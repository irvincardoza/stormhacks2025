# Change Log — 2025-10-05 Integration

This builds the end-to-end path from backend analytics to the Electron dashboard.

## Backend

- Added aggregated dashboard endpoint
  - `backend/pyton-backend/pyproj/pyapp/services/dashboard_data.py:1`
    - Reads `data-backend/*` artifacts and constructs the `DashboardData`-compatible payload.
  - `backend/pyton-backend/pyproj/pyapp/views/dashboard.py:1`
    - `GET /api/dashboard/` returns `{ data, generated_at }`.
  - `backend/pyton-backend/pyproj/pyapp/urls.py:1`
    - Registers `path("dashboard/", dashboard_summary)`.

- Centralised paths
  - `backend/pyton-backend/pyproj/pyapp/services/paths.py:1`
    - Exposes `DATA_DIR`, `HISTORY_FILE`, `ACTIVITY_FILE`, `METRICS_FILE`, and derived JSON paths.
  - `backend/pyton-backend/pyproj/pyapp/services/background_tasks.py:1`
    - Refactored to reuse shared paths and log richer state around updates.

- Background tasks lifecycle
  - `backend/pyton-backend/pyproj/pyapp/apps.py:1`
    - Starts tasks on app ready (main process only); stops at exit.

- Dev CORS and deps
  - `backend/pyton-backend/pyproj/pyproj/settings.py:34`
    - Adds `django-cors-headers`, allowed hosts, and dev CORS origins.
  - `backend/pyton-backend/pyproj/requirements.txt:1`
    - Adds `django-cors-headers`.

## Frontend

- Provider auto-hydration
  - `frontend-react/electron-react-app/src/providers/dashboard-data-provider.tsx:1`
    - Fetches `GET /api/dashboard/` and merges live sections over mocks.
    - Respects `REACT_APP_API_BASE` (defaults to `http://127.0.0.1:8000`).

- Data contracts
  - `frontend-react/electron-react-app/src/data/dashboard.ts:1`
    - Makes `NamedMetricPoint` generic-safe for dynamic series.
    - Allows dynamic timeline series and surfaces `settings.monitorStatus`.

- Docs
  - `frontend-react/electron-react-app/docs/BACKEND_INTEGRATION.md:1`
    - Documents the provider’s live-data hydration and API base.
  - `frontend-react/electron-react-app/env.example:1`
    - Template for `REACT_APP_API_BASE`.

## Root Docs

- `README.md:1` — updated to reflect actual structure and revised quick start.
- `docs/RUNBOOK.md:1` — added end-to-end runbook and API usage.

